import{aU as F,_ as x,d as v,u as w,o as b,E as p,w as B,r as y,c as f,e as l,f as n,z as h,F as E,h as D,n as C,p as V,k as A,l as k,m as z,B as L}from"./index-d3891d0c.js";import{E as S}from"./el-button-b68aad91.js";import{E as I}from"./el-input-d4ec9a95.js";import"./el-tag-b6851469.js";import{E as U,a as T}from"./el-select-06a2426e.js";import"./el-scrollbar-5bc0e8c5.js";import"./index-c5d2c0da.js";import"./index-ba36e8ee.js";import"./index-1b0c62bb.js";function j(r,o,e,_,a,i){return F({method:"post",url:"/api/applyFriendLink",data:{website:r,icon:o,email:e,container:_,userid:a||"-1",username:i||"-1"}})}function g(){return F({method:"post",url:"/api/getFriendLink"})}const u=r=>(V("data-v-0065e260"),r=r(),A(),r),N={class:"friend_link_container"},M=u(()=>n("p",{class:"title"},"\u53CB\u8054",-1)),O={class:"input"},$={class:"input_left"},q={class:"website"},G=u(()=>n("div",{class:"input_itemTitle"},"\u7F51\u5740\uFF1A",-1)),H={class:"icon"},J=u(()=>n("div",{class:"input_itemTitle"},"\u56FE\u6807\uFF1A",-1)),K={class:"email"},P=u(()=>n("div",{class:"input_itemTitle"},"\u90AE\u7BB1\uFF1A",-1)),Q={class:"input_right"},R=L("\u7533\u8BF7\u53CB\u8054"),W=u(()=>n("p",{class:"title"},"\u53CB\u94FE\u5217\u8868",-1)),X={class:"link_list"},Y=["href"],Z=["src","alt"],ee=v({__name:"friend-link",setup(r){let o=w();b(async()=>{const a=await g();a.status!=200&&p.error("\u6570\u636E\u83B7\u53D6\u5931\u8D25\uFF01"),e.linkData=a.data.data,console.log(e.linkData)}),B(o.state,(a,i)=>{e.themeColor=a.themeColor});const e=y({themeColor:o.state.themeColor,userid:o.state.userid,username:o.state.username,websiteprefix:"http://",linkData:[],inputData:{website:"",icon:"",email:"",textarea:""}}),_=async()=>{Object.keys(e.inputData).forEach(t=>{if(e.inputData[t].length<6)return p.error("\u8F93\u5165\u7684\u4FE1\u606F\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165")});let{website:a,icon:i,email:d,textarea:c}=e.inputData;if((await j(e.websiteprefix+a,i,d,c,e.userid,e.username)).status!=200)return p.error("\u53CB\u8054\u7533\u8BF7\u5931\u8D25\uFF01\u8BF7\u7A0D\u5FAE\u518D\u8BD5");p.success("\u53CB\u94FE\u7533\u8BF7\u6210\u529F\uFF01\uFF0C\u8BF7\u7B49\u5F85\u5BA1\u6838\u901A\u8FC7");let m=await g();e.linkData=m.data.data};return(a,i)=>{const d=U,c=T,s=I,m=S;return k(),f("div",{class:"friend_link",style:C({backgroundImage:`linear-gradient(${e.themeColor.start},${e.themeColor.end})`})},[l(z,{bgColor:!0}),n("main",N,[M,n("div",O,[n("div",$,[n("div",q,[G,l(s,{modelValue:e.inputData.website,"onUpdate:modelValue":i[1]||(i[1]=t=>e.inputData.website=t),placeholder:"website",class:"input-with-select",size:"large",clearable:""},{prepend:h(()=>[l(c,{modelValue:e.websiteprefix,"onUpdate:modelValue":i[0]||(i[0]=t=>e.websiteprefix=t),placeholder:"Select",style:{width:"115px"},size:"large"},{default:h(()=>[l(d,{label:"http://",value:"http://"}),l(d,{label:"https://",value:"https://"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),n("div",H,[J,l(s,{modelValue:e.inputData.icon,"onUpdate:modelValue":i[2]||(i[2]=t=>e.inputData.icon=t),placeholder:"icon",class:"input-with-select",size:"large",clearable:""},null,8,["modelValue"])]),n("div",K,[P,l(s,{modelValue:e.inputData.email,"onUpdate:modelValue":i[3]||(i[3]=t=>e.inputData.email=t),placeholder:"email",class:"input-with-select",size:"large",clearable:""},null,8,["modelValue"])])]),n("div",Q,[l(s,{modelValue:e.inputData.textarea,"onUpdate:modelValue":i[4]||(i[4]=t=>e.inputData.textarea=t),rows:3,type:"textarea",placeholder:"\u535A\u5BA2\u7B80\u4ECB\uFF08\u5927\u4E8E6\u4E2A\u5B57,\u5C0F\u4E8E25\u4E2A\u5B57\uFF09"},null,8,["modelValue"]),l(m,{type:"primary",class:"apply",size:"large",onClick:_},{default:h(()=>[R]),_:1})])]),W,n("div",X,[(k(!0),f(E,null,D(e.linkData,(t,te)=>(k(),f("div",{key:t.id,class:"link_item"},[n("a",{href:t.website,target:"_blank"},[n("img",{src:t.icon,alt:t.website},null,8,Z)],8,Y)]))),128))])])],4)}}});var pe=x(ee,[["__scopeId","data-v-0065e260"]]);export{pe as default};
