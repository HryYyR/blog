import{_ as x,d as b,r as v,o as y,c as k,e as w,h as t,w as n,b5 as l,t as B,$ as C,p as z,k as E,y as F,E as i,b6 as D,z as p,b7 as A}from"./index-22c1370a.js";import{a as d}from"./anime.es-826e4a6c.js";const a=u=>(z("data-v-12ad39c7"),u=u(),E(),u),S={class:"top loginpage_top"},V={class:"login_container"},I=a(()=>t("img",{src:"http://hyyyh.top:3001/icon/back.png",alt:""},null,-1)),T=[I],M=a(()=>t("span",{style:{color:"black"}},"\u5BC6\u7801\u767B\u5F55",-1)),U=F("|"),X={class:"input_box"},j={class:"name"},R=a(()=>t("span",null,"\u8D26\u53F7:",-1)),Y={class:"pass"},N=a(()=>t("span",null,"\u5BC6\u7801:",-1)),Z=a(()=>t("span",{class:"forgetPass"},"\u5FD8\u8BB0\u5BC6\u7801",-1)),$=a(()=>t("img",{src:"http://hyyyh.top:3001/icon/back.png",alt:""},null,-1)),J=[$],L=a(()=>t("div",{class:"registerTitle"},[t("span",null,"\u6CE8\u518C")],-1)),O={class:"input_box"},P={class:"name"},G=a(()=>t("span",null,"\u6635\u79F0:",-1)),q={class:"name"},H=a(()=>t("span",null,"\u90AE\u7BB1:",-1)),K={class:"name"},Q=a(()=>t("span",null,"\u5BC6\u7801:",-1)),W={class:"name"},tt=a(()=>t("span",null,"\u786E\u8BA4\u5BC6\u7801:",-1)),et={class:"name"},ot=a(()=>t("span",null,"\u9A8C\u8BC1\u7801:",-1)),st=b({__name:"login",setup(u){const e=v({user:"",pass:"",isLoading:!1,isShowRegister:!1,yzm:"",rigister:{name:"",email:"",pass:"",checkpass:"",checkyzm:""},bg:{startnum:30,distance:800}});y(()=>{e.yzm=JSON.stringify(Math.floor(Math.random()*8999+1e3)),setTimeout(()=>{d({targets:[".login_container"],left:"0",opacity:"1",translateY:"0rem",translateX:"35vw",duration:1e3})},200)});const g=async()=>{if(!e.user||!e.pass){i.error("\u8D26\u53F7\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}const r=await D(e.user,e.pass);r.status==200?(i.success(r.data.msg),localStorage.setItem("name",r.data.name),localStorage.setItem("id",r.data.id),localStorage.setItem("token",r.data.token),p.push("/blog")):i.error(r.data.msg)},m=async()=>{let r=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(e.rigister.name.trim()==""||e.rigister.pass.trim().length<6||e.rigister.checkpass.trim()==""||e.rigister.email.trim()==""||e.rigister.checkyzm.trim()==""){i.error("\u5185\u5BB9\u683C\u5F0F\u4E0D\u6B63\u786E");return}if(!r.test(e.rigister.email)){i.error("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E");return}if(e.rigister.pass!=e.rigister.checkpass){i.error("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u76F8\u540C");return}if(e.rigister.checkyzm!=e.yzm){i.error("\u9A8C\u8BC1\u7801\u9519\u8BEF");return}const o=await A(e.rigister.name,e.rigister.pass,e.rigister.email);if(console.log(o.data),o.status==201){i.error(o.data.msg);return}else d({targets:[".login_container"],opacity:"1",translateX:"35vw",duration:1e3}),d({targets:[".register_container"],opacity:"0",translateY:"0rem",translateX:"0",duration:1e3}),i.success("\u6CE8\u518C\u6210\u529F\uFF01")},f=()=>{e.isShowRegister=!0,d({targets:[".login_container"],opacity:"0",translateX:"0",duration:1e3}),d({targets:[".register_container"],left:"0",opacity:"1",translateY:"0rem",translateX:"35vw",duration:1e3})},h=()=>{e.isShowRegister=!1,d({targets:[".login_container"],opacity:"1",translateX:"35vw",duration:1e3}),d({targets:[".register_container"],opacity:"0",translateY:"0rem",translateX:"0",duration:1e3})},c=()=>{p.push({path:"/"})},_=()=>{i.error("\u6682\u672A\u5F00\u653E")};return(r,o)=>(k(),w("div",S,[t("div",V,[t("div",{class:"backindex",onClick:c},T),t("div",{class:"loginTitle"},[M,U,t("span",{onClick:_},"\u77ED\u4FE1\u767B\u5F55")]),t("div",X,[t("div",j,[R,n(t("input",{type:"text",placeholder:"\u8D26\u53F7","onUpdate:modelValue":o[0]||(o[0]=s=>e.user=s)},null,512),[[l,e.user]])]),t("div",Y,[N,n(t("input",{type:"password",placeholder:"\u5BC6\u7801","onUpdate:modelValue":o[1]||(o[1]=s=>e.pass=s)},null,512),[[l,e.pass]]),Z])]),t("div",{class:"btn_box"},[t("button",{class:"btn login",onClick:g,type:"submit"},"\u767B\u5F55")]),t("div",{class:"registerbtn"},[t("span",{class:"toregister",onClick:f,type:"submit"},"\u53BB\u6CE8\u518C")])]),t("div",{class:"register_container",style:C({zIndex:e.isShowRegister?99:-1})},[t("div",{class:"backindex",onClick:c},J),L,t("div",O,[t("div",P,[G,n(t("input",{type:"text",placeholder:"\u6635\u79F0","onUpdate:modelValue":o[2]||(o[2]=s=>e.rigister.name=s)},null,512),[[l,e.rigister.name]])]),t("div",q,[H,n(t("input",{type:"text",placeholder:"\u90AE\u7BB1","onUpdate:modelValue":o[3]||(o[3]=s=>e.rigister.email=s)},null,512),[[l,e.rigister.email]])]),t("div",K,[Q,n(t("input",{type:"text",placeholder:"\u5BC6\u7801\u4E0D\u80FD\u5C11\u4E8E6\u4F4D","onUpdate:modelValue":o[4]||(o[4]=s=>e.rigister.pass=s)},null,512),[[l,e.rigister.pass]])]),t("div",W,[tt,n(t("input",{type:"text",placeholder:"\u786E\u8BA4\u5BC6\u7801","onUpdate:modelValue":o[5]||(o[5]=s=>e.rigister.checkpass=s)},null,512),[[l,e.rigister.checkpass]])]),t("div",et,[ot,n(t("input",{type:"text",placeholder:"\u9A8C\u8BC1\u7801","onUpdate:modelValue":o[6]||(o[6]=s=>e.rigister.checkyzm=s),style:{width:"100px"}},null,512),[[l,e.rigister.checkyzm]]),t("span",{class:"yzm",onClick:o[7]||(o[7]=s=>e.yzm=JSON.stringify(Math.floor(Math.random()*8999+1e3)))},B(e.yzm),1)])]),t("div",{class:"btn_box"},[t("button",{class:"btn login",onClick:m,type:"submit"},"\u6CE8\u518C")]),t("div",{class:"backlogin",onClick:h},"\u8FD4\u56DE\u767B\u5F55")],4)]))}});var rt=x(st,[["__scopeId","data-v-12ad39c7"]]);export{rt as default};
