import{_ as t,d as e,B as s,u as a,r,o as i,c as n,e as l,h as o,t as c,H as h,am as d,bd as p,n as u,p as g,k as f,E as m,by as _,A as b,bz as y}from"./index-26b86a81.js";import{a as v}from"./anime.es-826e4a6c.js";class w{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(t,e=!1){return this.onePassHasher.start().appendStr(t).end(e)}static hashAsciiStr(t,e=!1){return this.onePassHasher.start().appendAsciiStr(t).end(e)}static _hex(t){const e=w.hexChars,s=w.hexOut;let a,r,i,n;for(n=0;n<4;n+=1)for(r=8*n,a=t[n],i=0;i<8;i+=2)s[r+1+i]=e.charAt(15&a),a>>>=4,s[r+0+i]=e.charAt(15&a),a>>>=4;return s.join("")}static _md5cycle(t,e){let s=t[0],a=t[1],r=t[2],i=t[3];s+=(a&r|~a&i)+e[0]-680876936|0,s=(s<<7|s>>>25)+a|0,i+=(s&a|~s&r)+e[1]-389564586|0,i=(i<<12|i>>>20)+s|0,r+=(i&s|~i&a)+e[2]+606105819|0,r=(r<<17|r>>>15)+i|0,a+=(r&i|~r&s)+e[3]-1044525330|0,a=(a<<22|a>>>10)+r|0,s+=(a&r|~a&i)+e[4]-176418897|0,s=(s<<7|s>>>25)+a|0,i+=(s&a|~s&r)+e[5]+1200080426|0,i=(i<<12|i>>>20)+s|0,r+=(i&s|~i&a)+e[6]-1473231341|0,r=(r<<17|r>>>15)+i|0,a+=(r&i|~r&s)+e[7]-45705983|0,a=(a<<22|a>>>10)+r|0,s+=(a&r|~a&i)+e[8]+1770035416|0,s=(s<<7|s>>>25)+a|0,i+=(s&a|~s&r)+e[9]-1958414417|0,i=(i<<12|i>>>20)+s|0,r+=(i&s|~i&a)+e[10]-42063|0,r=(r<<17|r>>>15)+i|0,a+=(r&i|~r&s)+e[11]-1990404162|0,a=(a<<22|a>>>10)+r|0,s+=(a&r|~a&i)+e[12]+1804603682|0,s=(s<<7|s>>>25)+a|0,i+=(s&a|~s&r)+e[13]-40341101|0,i=(i<<12|i>>>20)+s|0,r+=(i&s|~i&a)+e[14]-1502002290|0,r=(r<<17|r>>>15)+i|0,a+=(r&i|~r&s)+e[15]+1236535329|0,a=(a<<22|a>>>10)+r|0,s+=(a&i|r&~i)+e[1]-165796510|0,s=(s<<5|s>>>27)+a|0,i+=(s&r|a&~r)+e[6]-1069501632|0,i=(i<<9|i>>>23)+s|0,r+=(i&a|s&~a)+e[11]+643717713|0,r=(r<<14|r>>>18)+i|0,a+=(r&s|i&~s)+e[0]-373897302|0,a=(a<<20|a>>>12)+r|0,s+=(a&i|r&~i)+e[5]-701558691|0,s=(s<<5|s>>>27)+a|0,i+=(s&r|a&~r)+e[10]+38016083|0,i=(i<<9|i>>>23)+s|0,r+=(i&a|s&~a)+e[15]-660478335|0,r=(r<<14|r>>>18)+i|0,a+=(r&s|i&~s)+e[4]-405537848|0,a=(a<<20|a>>>12)+r|0,s+=(a&i|r&~i)+e[9]+568446438|0,s=(s<<5|s>>>27)+a|0,i+=(s&r|a&~r)+e[14]-1019803690|0,i=(i<<9|i>>>23)+s|0,r+=(i&a|s&~a)+e[3]-187363961|0,r=(r<<14|r>>>18)+i|0,a+=(r&s|i&~s)+e[8]+1163531501|0,a=(a<<20|a>>>12)+r|0,s+=(a&i|r&~i)+e[13]-1444681467|0,s=(s<<5|s>>>27)+a|0,i+=(s&r|a&~r)+e[2]-51403784|0,i=(i<<9|i>>>23)+s|0,r+=(i&a|s&~a)+e[7]+1735328473|0,r=(r<<14|r>>>18)+i|0,a+=(r&s|i&~s)+e[12]-1926607734|0,a=(a<<20|a>>>12)+r|0,s+=(a^r^i)+e[5]-378558|0,s=(s<<4|s>>>28)+a|0,i+=(s^a^r)+e[8]-2022574463|0,i=(i<<11|i>>>21)+s|0,r+=(i^s^a)+e[11]+1839030562|0,r=(r<<16|r>>>16)+i|0,a+=(r^i^s)+e[14]-35309556|0,a=(a<<23|a>>>9)+r|0,s+=(a^r^i)+e[1]-1530992060|0,s=(s<<4|s>>>28)+a|0,i+=(s^a^r)+e[4]+1272893353|0,i=(i<<11|i>>>21)+s|0,r+=(i^s^a)+e[7]-155497632|0,r=(r<<16|r>>>16)+i|0,a+=(r^i^s)+e[10]-1094730640|0,a=(a<<23|a>>>9)+r|0,s+=(a^r^i)+e[13]+681279174|0,s=(s<<4|s>>>28)+a|0,i+=(s^a^r)+e[0]-358537222|0,i=(i<<11|i>>>21)+s|0,r+=(i^s^a)+e[3]-722521979|0,r=(r<<16|r>>>16)+i|0,a+=(r^i^s)+e[6]+76029189|0,a=(a<<23|a>>>9)+r|0,s+=(a^r^i)+e[9]-640364487|0,s=(s<<4|s>>>28)+a|0,i+=(s^a^r)+e[12]-421815835|0,i=(i<<11|i>>>21)+s|0,r+=(i^s^a)+e[15]+530742520|0,r=(r<<16|r>>>16)+i|0,a+=(r^i^s)+e[2]-995338651|0,a=(a<<23|a>>>9)+r|0,s+=(r^(a|~i))+e[0]-198630844|0,s=(s<<6|s>>>26)+a|0,i+=(a^(s|~r))+e[7]+1126891415|0,i=(i<<10|i>>>22)+s|0,r+=(s^(i|~a))+e[14]-1416354905|0,r=(r<<15|r>>>17)+i|0,a+=(i^(r|~s))+e[5]-57434055|0,a=(a<<21|a>>>11)+r|0,s+=(r^(a|~i))+e[12]+1700485571|0,s=(s<<6|s>>>26)+a|0,i+=(a^(s|~r))+e[3]-1894986606|0,i=(i<<10|i>>>22)+s|0,r+=(s^(i|~a))+e[10]-1051523|0,r=(r<<15|r>>>17)+i|0,a+=(i^(r|~s))+e[1]-2054922799|0,a=(a<<21|a>>>11)+r|0,s+=(r^(a|~i))+e[8]+1873313359|0,s=(s<<6|s>>>26)+a|0,i+=(a^(s|~r))+e[15]-30611744|0,i=(i<<10|i>>>22)+s|0,r+=(s^(i|~a))+e[6]-1560198380|0,r=(r<<15|r>>>17)+i|0,a+=(i^(r|~s))+e[13]+1309151649|0,a=(a<<21|a>>>11)+r|0,s+=(r^(a|~i))+e[4]-145523070|0,s=(s<<6|s>>>26)+a|0,i+=(a^(s|~r))+e[11]-1120210379|0,i=(i<<10|i>>>22)+s|0,r+=(s^(i|~a))+e[2]+718787259|0,r=(r<<15|r>>>17)+i|0,a+=(i^(r|~s))+e[9]-343485551|0,a=(a<<21|a>>>11)+r|0,t[0]=s+t[0]|0,t[1]=a+t[1]|0,t[2]=r+t[2]|0,t[3]=i+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(w.stateIdentity),this}appendStr(t){const e=this._buffer8,s=this._buffer32;let a,r,i=this._bufferLength;for(r=0;r<t.length;r+=1){if(a=t.charCodeAt(r),a<128)e[i++]=a;else if(a<2048)e[i++]=192+(a>>>6),e[i++]=63&a|128;else if(a<55296||a>56319)e[i++]=224+(a>>>12),e[i++]=a>>>6&63|128,e[i++]=63&a|128;else{if(a=1024*(a-55296)+(t.charCodeAt(++r)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[i++]=240+(a>>>18),e[i++]=a>>>12&63|128,e[i++]=a>>>6&63|128,e[i++]=63&a|128}i>=64&&(this._dataLength+=64,w._md5cycle(this._state,s),i-=64,s[0]=s[16])}return this._bufferLength=i,this}appendAsciiStr(t){const e=this._buffer8,s=this._buffer32;let a,r=this._bufferLength,i=0;for(;;){for(a=Math.min(t.length-i,64-r);a--;)e[r++]=t.charCodeAt(i++);if(r<64)break;this._dataLength+=64,w._md5cycle(this._state,s),r=0}return this._bufferLength=r,this}appendByteArray(t){const e=this._buffer8,s=this._buffer32;let a,r=this._bufferLength,i=0;for(;;){for(a=Math.min(t.length-i,64-r);a--;)e[r++]=t[i++];if(r<64)break;this._dataLength+=64,w._md5cycle(this._state,s),r=0}return this._bufferLength=r,this}getState(){const t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){const e=t.buffer,s=t.state,a=this._state;let r;for(this._dataLength=t.length,this._bufferLength=t.buflen,a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],r=0;r<e.length;r+=1)this._buffer8[r]=e.charCodeAt(r)}end(t=!1){const e=this._bufferLength,s=this._buffer8,a=this._buffer32,r=1+(e>>2);this._dataLength+=e;const i=8*this._dataLength;if(s[e]=128,s[e+1]=s[e+2]=s[e+3]=0,a.set(w.buffer32Identity.subarray(r),r),e>55&&(w._md5cycle(this._state,a),a.set(w.buffer32Identity)),i<=4294967295)a[14]=i;else{const t=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===t)return;const e=parseInt(t[2],16),s=parseInt(t[1],16)||0;a[14]=e,a[15]=s}return w._md5cycle(this._state,a),t?this._state:w._hex(this._state)}}if(w.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),w.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),w.hexChars="0123456789abcdef",w.hexOut=[],w.onePassHasher=new w,"5d41402abc4b2a76b9719d911017c592"!==w.hashStr("hello"))throw new Error("Md5 self test failed.");const k=window.QC;const A=t=>(g("data-v-3e37be31"),t=t(),f(),t),L={class:"top loginpage_top"},S={class:"login_container"},x=[A((()=>o("img",{src:"http://hyyyh.top:3001/icon/back.png",alt:""},null,-1)))],z={class:"loginTitle"},I={style:{color:"black"}},C={class:"input_box"},U={class:"name"},V=["placeholder"],M={class:"pass"},X=["placeholder"],Z={class:"forgetPass"},$={class:"btn_box"},B=A((()=>o("div",{class:"btn_box"},[o("span",{id:"qqLoginBtn"})],-1))),q={class:"registerbtn"},F=[A((()=>o("img",{src:"http://hyyyh.top:3001/icon/back.png",alt:""},null,-1)))],H={class:"registerTitle"},O={class:"input_box"},P={class:"name"},R=["placeholder"],Y={class:"name"},j=["placeholder"],E={class:"name"},T=["placeholder"],J={class:"name"},N=["placeholder"],Q={class:"name"},D=["placeholder"],G={class:"btn_box"};var K=t(e({__name:"login",setup(t){let e=s();const g=a(),f=r({user:"",pass:"",isLoading:!1,isShowRegister:!1,yzm:"",rigister:{name:"",email:"",pass:"",checkpass:"",checkyzm:""},bg:{startnum:30,distance:800}});i((()=>{k.Login({btnId:"qqLoginBtn"}),f.yzm=JSON.stringify(Math.floor(8999*Math.random()+1e3)),setTimeout((()=>{v({targets:[".login_container"],left:"0",opacity:"1",translateY:"0rem",translateX:"35vw",duration:1e3})}),200)}));const A=async()=>{if(/^[a-zA-Z0-9_-]{1,10}$/.test(f.user))if(/^[a-zA-Z0-9_-]{5,16}$/.test(f.pass))if(f.user&&f.pass)try{const t=new w;t.appendAsciiStr(f.pass);const e=t.end(),s=await _(f.user,e);if(200==s.status)return m.success(s.data.msg),localStorage.setItem("name",s.data.name),localStorage.setItem("id",s.data.id),localStorage.setItem("token",s.data.token),localStorage.setItem("header",s.data.avatar),g.state.userid=s.data.id,g.state.username=s.data.name,g.state.token=s.data.token,g.state.header=s.data.avatar,g.state.userdata=s.data,void b.push("/blog");m.error(s.data.msg)}catch(t){m.error("发生了未知的错误")}else m.error("账号或密码不能为空");else m.error("密码只能包含字母，数字，下划线，减号，且大于5位不超过16位");else m.error("昵称只能包含字母，数字，下划线，减号，且大于1位不超过10位")},K=async()=>{if(""==f.rigister.name.trim()||f.rigister.pass.trim().length<6||""==f.rigister.checkpass.trim()||""==f.rigister.email.trim()||""==f.rigister.checkyzm.trim())return void m.error("内容格式不正确");if(!/^[a-zA-Z0-9_-]{1,10}$/.test(f.rigister.name))return void m.error("昵称只能包含字母，数字，下划线，减号，且大于1位不超过10位");if(!/^[a-zA-Z0-9_-]{6,16}$/.test(f.rigister.pass))return void m.error("密码只能包含字母，数字，下划线，减号，且大于6位不超过16位");if(!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(f.rigister.email))return void m.error("邮箱格式不正确");if(f.rigister.pass!=f.rigister.checkpass)return void m.error("两次输入密码不相同");if(f.rigister.checkyzm!=f.yzm)return void m.error("验证码错误");const t=new w;t.appendAsciiStr(f.rigister.pass);const e=t.end(),s=await y(f.rigister.name,e,f.rigister.email);201!=s.status?(v({targets:[".login_container"],opacity:"1",translateX:"35vw",duration:1e3}),v({targets:[".register_container"],opacity:"0",translateY:"0rem",translateX:"0",duration:1e3}),m.success("注册成功！")):m.error(s.data.msg)},W=()=>{f.isShowRegister=!0,v({targets:[".login_container"],opacity:"0",translateX:"0",duration:1e3}),v({targets:[".register_container"],left:"0",opacity:"1",translateY:"0rem",translateX:"35vw",duration:1e3})},tt=()=>{f.isShowRegister=!1,v({targets:[".login_container"],opacity:"1",translateX:"35vw",duration:1e3}),v({targets:[".register_container"],opacity:"0",translateY:"0rem",translateX:"0",duration:1e3})},et=()=>{b.push({path:"/"})};return(t,s)=>(n(),l("div",L,[o("div",S,[o("div",{class:"backindex",onClick:et},x),o("div",z,[o("span",I,c(h(e).t("login.passlogin")),1)]),o("div",C,[o("div",U,[o("span",null,c(h(e).t("login.user"))+":",1),d(o("input",{type:"text",placeholder:h(e).t("login.user"),"onUpdate:modelValue":s[0]||(s[0]=t=>f.user=t)},null,8,V),[[p,f.user]])]),o("div",M,[o("span",null,c(h(e).t("login.pass"))+":",1),o("form",null,[d(o("input",{type:"password",placeholder:h(e).t("login.pass"),"onUpdate:modelValue":s[1]||(s[1]=t=>f.pass=t),autocomplete:""},null,8,X),[[p,f.pass]])]),o("span",Z,c(h(e).t("login.forget")),1)])]),o("div",$,[o("button",{class:"btn login",onClick:A,type:"submit"},c(h(e).t("login.loginbtn")),1)]),B,o("div",q,[o("span",{class:"toregister",onClick:W,type:"submit"},c(h(e).t("login.toregister")),1)])]),o("div",{class:"register_container",style:u({zIndex:f.isShowRegister?99:-1})},[o("div",{class:"backindex",onClick:et},F),o("div",H,[o("span",null,c(h(e).t("register.title")),1)]),o("div",O,[o("div",P,[o("span",null,c(h(e).t("register.name"))+":",1),d(o("input",{type:"text",placeholder:h(e).t("register.name"),"onUpdate:modelValue":s[2]||(s[2]=t=>f.rigister.name=t)},null,8,R),[[p,f.rigister.name]])]),o("div",Y,[o("span",null,c(h(e).t("register.email"))+":",1),d(o("input",{type:"email",placeholder:h(e).t("register.email"),"onUpdate:modelValue":s[3]||(s[3]=t=>f.rigister.email=t)},null,8,j),[[p,f.rigister.email]])]),o("div",E,[o("span",null,c(h(e).t("register.pass"))+":",1),o("form",null,[d(o("input",{type:"password",placeholder:h(e).t("register.pass"),"onUpdate:modelValue":s[4]||(s[4]=t=>f.rigister.pass=t),autocomplete:""},null,8,T),[[p,f.rigister.pass]])])]),o("div",J,[o("span",null,c(h(e).t("register.Verifypassword"))+":",1),o("form",null,[d(o("input",{type:"password",placeholder:h(e).t("register.Verifypassword"),"onUpdate:modelValue":s[5]||(s[5]=t=>f.rigister.checkpass=t),autocomplete:""},null,8,N),[[p,f.rigister.checkpass]])])]),o("div",Q,[o("span",null,c(h(e).t("register.Verification"))+":",1),d(o("input",{type:"text",placeholder:h(e).t("register.Verification"),"onUpdate:modelValue":s[6]||(s[6]=t=>f.rigister.checkyzm=t),style:{width:"100px"}},null,8,D),[[p,f.rigister.checkyzm]]),o("span",{class:"yzm",onClick:s[7]||(s[7]=t=>f.yzm=JSON.stringify(Math.floor(8999*Math.random()+1e3)))},c(f.yzm),1)])]),o("div",G,[o("button",{class:"btn login",onClick:K,type:"submit"},c(h(e).t("register.title")),1)]),o("div",{class:"backlogin",onClick:tt},c(h(e).t("register.tologin")),1)],4)]))}}),[["__scopeId","data-v-3e37be31"]]);export{K as default};
